<!DOCTYPE html>
<!-- Coding by CodingLab | www.codinglabweb.com-->
    <html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title> iSpace User </title>

       



        <link rel="shortcut icon" type="image/x-icon" href="https://www.edigitalagency.com.au/wp-content/uploads/Apple-logo-white-png.png">

        <!-- CSS -->
        <link rel="stylesheet" href="css/style.css">
                
         <!-- Sweetalert -->
         <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>


        <!-- Boxicons CSS -->
        <link href='https://unpkg.com/boxicons@2.1.2/css/boxicons.min.css' rel='stylesheet'>

        <style>
            /* Google Fonts - Poppins */
@import url('https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600&display=swap');

*{
    margin: 0;
    padding: 0;
    box-sizing: border-box;
    font-family: 'Poppins', sans-serif;
}

.container{
    height: 100vh;
    width: 100%;
    display: flex;
    align-items: center;
    justify-content: center;
    background-color:#1c212f;
    column-gap: 30px;
}
.form{
    position: absolute;
    max-width: 430px;
    width: 100%;
    padding: 30px;
    border-radius: 6px;
    background: #FFF;
}
.form.signup{
    opacity: 0;
    pointer-events: none;
}
.forms.show-signup .form.signup{
    opacity: 1;
    pointer-events: auto;
}
.forms.show-signup .form.login{
    opacity: 0;
    pointer-events: none;
}
header{
    font-size: 28px;
    font-weight: 600;
    color: #232836;
    text-align: center;
}
form{
    margin-top: 30px;
}
.form .field{
    position: relative;
    height: 50px;
    width: 100%;
    margin-top: 50px;
    border-radius: 6px;
}
.field input,
.field button{
    height: 100%;
    width: 100%;
    border: none;
    font-size: 16px;
    font-weight: 400;
    border-radius: 6px;
}
.field input{
    outline: none;
    padding: 0 15px;
    border: 1px solid#CACACA;
}
.field input:focus{
    border-bottom-width: 2px;
}
.eye-icon{
    position: absolute;
    top: 50%;
    right: 10px;
    transform: translateY(-50%);
    font-size: 18px;
    color: #8b8b8b;
    cursor: pointer;
    padding: 5px;
    padding-top: 55px;
   
}
.eye-icon-signup{
    position: absolute;
    top: 50%;
    right: 10px;
    transform: translateY(-50%);
    font-size: 18px;
    color: #8b8b8b;
    cursor: pointer;
    padding: 5px;
    padding-top: 55px;
}
.field button{
    color: #fff;
    background-color: #0171d3;
    transition: all 0.3s ease;
    cursor: pointer;
}
.field button:hover{
    background-color: #016dcb;
}
.form-link{
    text-align: center;
    margin-top: 40px;
}
.form-link span,
.form-link a{
    font-size: 14px;
    font-weight: 400;
    color: #232836;
}
.form a{
    color: #0171d3;
    text-decoration: none;
}
.form-content a:hover{
    text-decoration: underline;
}
.line{
    position: relative;
    height: 1px;
    width: 100%;
    margin: 36px 0;
    background-color: #d4d4d4;
}
.line::before{
    content: 'Or';
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    background-color: #FFF;
    color: #8b8b8b;
    padding: 0 15px;
}
.media-options a{
    display: flex;
    align-items: center;
    justify-content: center;
}
a.facebook{
    color: #fff;
    background-color: #4267b2;
}
a.facebook .facebook-icon{
    height: 28px;
    width: 28px;
    color: #0171d3;
    font-size: 20px;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    background-color: #fff;
}
.facebook-icon,
img.google-img{
    position: absolute;
    top: 50%;
    left: 15px;
    transform: translateY(-50%);
}
img.google-img{
    height: 20px;
    width: 20px;
    object-fit: cover;
}
a.google{
    border: 1px solid #CACACA;
}
a.google span{
    font-weight: 500;
    opacity: 0.6;
    color: #232836;
}

@media screen and (max-width: 400px) {
    .form{
        padding: 20px 10px;
    }
    
}


.validation-error {
  display: inline-block;  /* Changed to inline-block */
  margin-left: 10px;  /* Add margin for spacing */
  color: red;
  font-size: 0.8rem; /* Adjust font size as needed */
}


        </style>
                        
    </head>
    <body>
        <section class="container forms">
            <div class="form login">
                <div class="form-content">
                    <header>User Login</header>

                    <form action="/login" method="post" id="loginForm">
                        <%
                        if(message){
                        %>
                        <p id="errorMessage" style="color: red;text-align: center; "><%= message %></p>
                        <%
                        }
                        %>
      
                        <div class="field input-field">
                          <label for="email">Email</label>
                          <input type="text" name="loginemail" id="loginemail" placeholder="Email" value="midhunambadan06@gmail.com" class="input" required >
                          <p id="loginemailError" class="validation-error"></p>
                        </div>
                      
                        <div class="field input-field">
                          <label for="password">Password</label>
                          <input type="password" name="loginpassword" id="loginpassword" placeholder="Password" value="123123123" class="password" required>
                          <i class='bx bx-hide eye-icon'></i>
                          <p id="loginpasswordError" class="validation-error"></p>
                        </div>
                      
                        <div class="form-link">
                          <a href="/forgot" class="forgot-pass">Forgot password?</a>
                        </div>
                      
                        <div class="field button-field">
                          <button type="submit">Login</button>
                        </div>
                      </form>
                    

                    <div class="form-link">
                        <span>Don't have an account? <a href="#" class="link signup-link">Signup</a></span>
                    </div>
                </div>

                <!-- <div class="line"></div> -->

                <!-- <div class="media-options">
                    <a href="#" class="field facebook">
                        <i class='bx bxl-facebook facebook-icon'></i>
                        <span>Login with Facebook</span>
                    </a>
                </div> -->
<!-- 
                <div class="media-options">
                    <a href="#" class="field google">
                        <img src="https://cdn.iconscout.com/icon/free/png-256/free-google-1772223-1507807.png" alt="" class="google-img">
                        <span>Login with Google</span>
                    </a>
                </div> -->

            </div>

            <!-- Signup Form -->

            <div class="form signup">
                <div class="form-content">
                    <header>User Signup</header>
                    <form action="/verifySignup" method="post" id="signupForm">
                  
                      <div class="field input-field">
                        <label for="username">Username</label>
                        <input type="text" name="username" id="username" placeholder="Username" class="input" required>
                        <p id="usernameError" class="validation-error"></p>
                      </div>
                  
                      <div class="field input-field">
                        <label for="email">Email</label>
                        <input type="text" name="email" id="mail" placeholder="Email" class="input" required>
                        <p id="emailError" class="validation-error"></p>
                      </div>
                  
                      <div class="field input-field">
                        <label for="mobile">Mobile</label>
                        <input type="tel" name="mobile" id="mobile" placeholder="Mobile" class="input"  required>
                        <p id="mobileError" class="validation-error"></p>
                      </div>
                  
                      <div class="field input-field">
                        <label for="password">Password</label>
                        <input type="password" name="password" id="password" placeholder="Create password" class="password" required>
                        <p id="passwordError" class="validation-error"></p>
                        <i class='bx bx-hide eye-icon-signup'></i>
                      </div>

                      <div class="field input-field">
                        <label for="password2">Confirm Password</label>
                        <input type="password" name="password2" id="password2" placeholder="Create password" class="password" required>
                        <p id="password2Error" class="validation-error"></p>
                        <i class='bx bx-hide eye-icon-signup'></i>
                      </div>
                  
                      <div class="field button-field">
                        <button type="submit">Signup</button>
                      </div>
                    </form>
                  
                    <div class="form-link">
                      <span>Already have an account? <a href="#" class="link login-link">Login</a></span>
                    </div>
                  </div>
                  

                <!-- <div class="line"></div> -->

                <!-- <div class="media-options">
                    <a href="#" class="field facebook">
                        <i class='bx bxl-facebook facebook-icon'></i>
                        <span>Login with Facebook</span>
                    </a>
                </div> -->

                <!-- <div class="media-options">
                    <a href="#" class="field google">
                        <img src="https://cdn.iconscout.com/icon/free/png-256/free-google-1772223-1507807.png" alt="" class="google-img">
                        <span>Login with Google</span>
                    </a>
                </div> -->

            </div>
        </section>



        


<script>
  
    const signupForm = document.getElementById('signupForm');
const usernameInput = document.getElementById('username');
const emailInput = document.getElementById('mail');
const mobileInput = document.getElementById('mobile');
const passwordInput = document.getElementById('password');
const password2Input = document.getElementById('password2');


const usernameError = document.getElementById('usernameError');
const emailError = document.getElementById('emailError');
const mobileError = document.getElementById('mobileError');
const passwordError = document.getElementById('passwordError');
const password2Error = document.getElementById('password2Error');

signupForm.addEventListener('submit', (event) => {
  event.preventDefault(); // Prevent default form submission

  let isValid = true; // Flag to track overall validity

  // Clear previous error messages before displaying new ones
  usernameError.textContent = '';
  emailError.textContent = '';
  mobileError.textContent = '';
  passwordError.textContent = '';

  // Username Validation (letters only, minimum 3 characters)
//   if (!/^[a-zA-Z]+$/.test(usernameInput.value) || usernameInput.value.length < 3) {
//     usernameError.textContent = 'Username must contain letters only (min. 3 characters).';
//     isValid = false;
//   }

  // Username Validation (allow letters, spaces, and some special characters)
if (!/^[a-zA-Z\s\-\._]+$/.test(usernameInput.value) || usernameInput.value.length < 3) {
  usernameError.textContent = 'Username must be at least 3 characters long (letters, spaces, - . _ allowed).';
  isValid = false;
}


//   // Email Validation (proper email format)
//   if (!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(emailInput.value)) {
//     emailError.textContent = 'Please enter a valid email address.';
//     isValid = false;
//   }

// Email Validation (proper email format)
if (!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(emailInput.value)) {
  emailError.textContent = 'Please enter a valid email address.';
  isValid = false;
}



  // Mobile Validation (10 digits, numbers only)
  if (!/^\d{10}$/.test(mobileInput.value)) {
    mobileError.textContent = 'Mobile number must be 10 digits (numbers only).';
    isValid = false;
  }

  // Password Validation (minimum 8 characters)
  if (passwordInput.value.length < 8) {
    passwordError.textContent = 'Password must be at least 8 characters long.';
    isValid = false;
  }

// Password Confirmation Validation
if (passwordInput.value !== password2Input.value) {
  password2Error.textContent = 'Password not matching.';
  isValid = false;
}

// if (passwordInput.value !== password2Input.value) {
//   passwordError.textContent = 'Password does not match confirmation.';
//   password2Error.textContent = 'Confirm Password does not match.';
//   isValid = false;
// }
  


  setTimeout(() => {
                usernameError.textContent = '';
                emailError.textContent = '';
                mobileError.textContent = '';
                passwordError.textContent = '';
                confirmpasswordError.textContent = '';
            }, 4000); 

  // Submit the form if all fields are valid
  if (isValid) {
    signupForm.submit(); // Submit the form after successful validation
  }
});

</script>


<script>
  document.getElementById('sweet-alert').addEventListener('click',function(){
    Swal.fire({
  position: "top-center",
  icon: "success",
  title: "Your work has been saved",
  showConfirmButton: false,
  timer: 1500
});
  })
</script>

        <!-- JavaScript -->
        <script>
            const forms = document.querySelector(".forms"),
      pwShowHide = document.querySelectorAll(".eye-icon"),
      links = document.querySelectorAll(".link");

pwShowHide.forEach(eyeIcon => {
    eyeIcon.addEventListener("click", () => {
        let pwFields = eyeIcon.parentElement.parentElement.querySelectorAll(".password");
        
        pwFields.forEach(password => {
            if(password.type === "password"){
                password.type = "text";
                eyeIcon.classList.replace("bx-hide", "bx-show");
                return;
            }
            password.type = "password";
            eyeIcon.classList.replace("bx-show", "bx-hide");
        })
        
    })
})      

links.forEach(link => {
    link.addEventListener("click", e => {
       e.preventDefault(); //preventing form submit
       forms.classList.toggle("show-signup");
    })
})
        </script>





 <!--<<<<<<<<<<<<<<<For Login >>>>>>>>>>>>>>>>>> -->
    <script>
        const loginForm = document.getElementById('loginForm');
        const loginemailInput = document.getElementById('loginemail');
        const loginpasswordInput = document.getElementById('loginpassword');
        const loginemailError = document.getElementById('loginemailError');
        const loginpasswordError = document.getElementById('loginpasswordError');
    
        loginForm.addEventListener('submit', (event) => {
            event.preventDefault(); // Prevent default form submission
    
            let isValid = true; // Flag to track overall validity
    
            // Clear previous error messages before displaying new ones
            loginemailError.textContent = '';
            loginpasswordError.textContent = '';
    
            // Email Validation (proper email format)
            if (!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(loginemailInput.value)) {
                loginemailError.textContent = 'Please enter a valid email address.';
                isValid = false;
            }
    
            // Password Validation (minimum 8 characters)
            if (loginpasswordInput.value.length < 8) {
                loginpasswordError.textContent = 'Password must be at least 8 characters long.';
                isValid = false;
            }
    
            // Set timeout to clear the error messages after 5 seconds
            setTimeout(() => {
                loginemailError.textContent = '';
                loginpasswordError.textContent = '';
            }, 4000); // 5000 milliseconds = 5 seconds
    
            // Submit the form if all fields are valid
            if (isValid) {
                loginForm.submit();
            }
        });
    
    </script>
    
 <!--<<<<<<<<<<<<<<<For Login end >>>>>>>>>>>>>>>>>> -->
    



<script>
    // Hide the message after 2 seconds
    setTimeout(() => {
        const errorMessage = document.getElementById('errorMessage');
        if (errorMessage) {
            errorMessage.style.display = 'none';
        }
    }, 3000); 
</script>
    </body>
</html>